<html>
<head>
  <script src="webscan.js"></script>
</head>
<body>
  <pre id='content'>
 * web-based network scanner
 * by <a href="https://twitter.com/samykamkar">samy kamkar</a> 2020/11/07
 * <a href="https://samy.pl">https://samy.pl</a>
  </pre>

  <script>
(async function() {
  // logging function
  let log = function(line)
  {
    console.log('wtf', line)
    let pre = document.createElement('pre')
    pre.textContent = line
    document.getElementById('content').appendChild(pre)
  }

  let scan = await webScanAll(undefined, { logger: log }) // scan major subnet gateways, then scan live subnets
  log(JSON.stringify(scan, null, 2))
})()
  </script>
</body>
</html>